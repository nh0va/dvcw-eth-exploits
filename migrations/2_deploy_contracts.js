let DVCToken = artifacts.require('./DVCToken.sol');
let DVCTokenSale = artifacts.require('DVCTokenSale.sol');
let Reentrancy = artifacts.require("Reentrancy");
let OutOfGas = artifacts.require("OutOfGas");

const ownerDVC = web3.eth.accounts[8];
const ownerDVCSale = web3.eth.accounts[9];
const tokensSold = 0;
const initialSupply = 1000000;

module.exports = function(deployer, accounts) {
    deployer.deploy(DVCToken, initialSupply, {from: ownerDVC, value: 90000000000000000000}).then(function () {
        tokenPrice = 1000000000000000000;
        return deployer.deploy(DVCTokenSale, DVCToken.address, tokenPrice, tokensSold, {from: ownerDVCSale})
    })
    deployer.deploy(Reentrancy, {value: web3.toWei(2, 'ether')});
    deployer.deploy(OutOfGas, {value: web3.toWei(2, 'ether')});
}
